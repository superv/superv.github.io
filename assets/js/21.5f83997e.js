(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{306:function(t,s,a){"use strict";a.r(s);var e=a(38),n=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" Hooks")]),t._v(" "),a("p",[t._v("While most of the configuration can be done in migrations for simple models, that's not always the case. Most of the time we need to tweak forms, lists, actions, filters, queries and etc. This is where the Hook Systems comes to the rescue.")]),t._v(" "),a("p",[t._v("Before diving in let's see how a Hook file looks like:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Bazaar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Catalog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Products")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Bazaar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Catalog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AuthorFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Bazaar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Catalog"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("PublisherFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Hook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResourceResolvedHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Products")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceResolvedHook")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$identifier")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'catalog.products'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Resource "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("searchable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'title'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getField")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'status'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("copyToFilters")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("AuthorFilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addFilter")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("PublisherFilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("make")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("h2",{attrs:{id:"registering-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" Registering Hooks")]),t._v(" "),a("p",[t._v("By default, all hooks in "),a("code",[t._v("src/Resources")]),t._v(" directory of your module are registered when your module is booted.\nYou can name your hooks as you wish and place them anywhere under this directory.")]),t._v(" "),a("p",[t._v("However you are required to define the identifier as a property to match the object you want to hook. "),a("router-link",{attrs:{to:"/hooks/basics/identifiers.html"}},[t._v("Read more about the identifiers here")])],1),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[t._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$identifier")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'catalog.products'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("Let's look at a hook example from the superV code base which is used to hook on Users Resource Object:")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Users")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Hook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ResourceResolvedHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("UsersResource")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ResourceResolvedHook")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$identifier")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'platform.users'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Resource "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerAction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'update_password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" UpdatePasswordAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("registerAction")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'impersonate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ImpersonateAction"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getField")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'password'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addFlag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'view.hide'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$resource")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getField")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'remember_token'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("addFlag")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'view.hide'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),a("p",[t._v("This hook will be triggered as soon as the actual resource object for users resource is created along with the platform. We are using this hook to register some actions to be displayed on Resource Entry Dashboard as well as hiding the "),a("code",[t._v("password")]),t._v(" and "),a("code",[t._v("remember_token")]),t._v(" fields in the Resource Entry View.")]),t._v(" "),a("p",[t._v("Available Hook Handlers:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"#entry-observer-hook"}},[t._v("Entry Observer Hook")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"}},[t._v("Resource Hook")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"}},[t._v("Form Hook")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"}},[t._v("List Hook")])]),t._v(" "),a("li",[a("a",{attrs:{href:"#"}},[t._v("Page Hook")])])]),t._v(" "),a("div",{staticClass:"alert alert--info"},[t._v("\nNote that you can use multiple hooks belonging to same hook handler in a single hook class.\n")]),t._v(" "),a("h2",{attrs:{id:"entry-observer-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entry-observer-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" Entry Observer Hooks")]),t._v(" "),a("p",[t._v("Hooks on to entry events such as create, update, retrieve and delete.")]),t._v(" "),a("p",[t._v("Identifier example: "),a("code",[t._v("catalog.products")])]),t._v(" "),a("p",[t._v("Contracts:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/AfterCreatedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("AfterCreatedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/AfterDeletedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("AfterDeletedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/AfterRetrievedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("AfterRetrievedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/AfterSavedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("AfterSavedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/BeforeCreatingHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("BeforeCreatingHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/BeforeSavingHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("BeforeSavingHook"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"resource-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resource-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" Resource Hooks")]),t._v(" "),a("p",[t._v("Hook on the actual Resource, ResourceConfig and the Query Builder object.")]),t._v(" "),a("p",[t._v("Identifier example: "),a("code",[t._v("catalog.products")]),t._v(".")]),t._v(" "),a("p",[t._v("Contracts:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/ResourceResolvedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("ResourceResolvedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/ConfigResolvedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("ConfigResolvedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/QueryResolvedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("QueryResolvedHook"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"form-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#form-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" Form Hooks")]),t._v(" "),a("p",[t._v("Hook on the Resource Forms before and after resolving and before validation.")]),t._v(" "),a("p",[t._v("Identifier example: "),a("code",[t._v("catalog.products.forms:default")]),t._v(".")]),t._v(" "),a("p",[t._v("Contracts:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/FormResolvingHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("FormResolvingHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/FormResolvedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("FormResolvedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/FormValidatingHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("FormValidatingHook"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"list-hooks"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#list-hooks","aria-hidden":"true"}},[t._v("#")]),t._v(" List Hooks")]),t._v(" "),a("p",[t._v("Hook on the Resource Lists, List Data and the List Query objects.")]),t._v(" "),a("p",[t._v("Contracts:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/ListResolvedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("ListResolvedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/ListQueryResolvedHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("ListQueryResolvedHook"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/ListDataHook.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("ListDataHook"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"scoping-by-role"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scoping-by-role","aria-hidden":"true"}},[t._v("#")]),t._v(" Scoping by Role")]),t._v(" "),a("p",[t._v("One of the great features of the Hook System is that, you can limit your Hook files to different Role scopes by implementing the "),a("a",{attrs:{href:"https://github.com/superv/platform/blob/master/src/Domains/Resource/Hook/Contracts/HookByRole.php",target:"_blank",rel:"noopener noreferrer"}},[t._v("HookByRole"),a("OutboundLink")],1),t._v(" contract in your hooks. Here's an example for such a scoped Hook, we would only triggered if the current logged in user is a "),a("code",[t._v("dealer")])]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token php language-php"}},[a("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Bazaar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Modules"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resources"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Applications"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Lists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Current")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("Illuminate"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Database"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Eloquent"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Builder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Hook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("HookByRole")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Hook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ListQueryResolvedHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Hook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("ListResolvedHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("IndexFields")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token package"}},[t._v("SuperV"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Platform"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Domains"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Resource"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Table"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Contracts"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("TableInterface")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListForDealers")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implements")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ListQueryResolvedHook")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" ListResolvedHook"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" HookByRole\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$identifier")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'viessmann.applications.lists:default'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n     * Callback to process after the query object for list is resolved\n     *\n     * @param \\Illuminate\\Database\\Eloquent\\Builder                            $query\n     * @param \\SuperV\\Platform\\Domains\\Resource\\Table\\Contracts\\TableInterface $table\n     */")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("queryResolved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" TableInterface "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("whereHas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'assigned_dealer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Builder "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$query")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("where")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'user_id'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Current"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("userId")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getRole")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" string\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'dealer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolved")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("TableInterface "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" IndexFields "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$fields")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$fields")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("hide")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token single-quoted-string string"}},[t._v("'assigned_dealer'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$table")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("notDeletable")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])])},[],!1,null,null,null);s.default=n.exports}}]);